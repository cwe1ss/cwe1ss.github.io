<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Moving my BlogEngine.NET blog to Microsoft Azure - Christian Weiss</title><meta name=Description content><meta property="og:title" content="Moving my BlogEngine.NET blog to Microsoft Azure"><meta property="og:description" content="I thought, after 5 years since my last post it might be time to write a new one! But that&rsquo;s not so easy! When you login to the backend after such a long time, everything feels just wrong: The design is ugly, the blog engine is outdated, I&rsquo;m not sure if my hosting provider still is the best choice for me and I don&rsquo;t like my domain anymore! So, instead of just writing a post about something, I decided to change all of these things first and tell you about this process!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.chwe.at/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-03-29T00:00:00+01:00"><meta property="article:modified_time" content="2014-03-29T00:00:00+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Moving my BlogEngine.NET blog to Microsoft Azure"><meta name=twitter:description content="I thought, after 5 years since my last post it might be time to write a new one! But that&rsquo;s not so easy! When you login to the backend after such a long time, everything feels just wrong: The design is ugly, the blog engine is outdated, I&rsquo;m not sure if my hosting provider still is the best choice for me and I don&rsquo;t like my domain anymore! So, instead of just writing a post about something, I decided to change all of these things first and tell you about this process!"><meta name=application-name content="Christian Weiss"><meta name=apple-mobile-web-app-title content="Christian Weiss"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.chwe.at/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/><link rel=prev href=https://www.chwe.at/2009/03/asp.net-mvc-1.0-has-been-released/><link rel=next href=https://www.chwe.at/2014/04/introducing-the-asp.net-mvc-feature-folders-project-structure/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Moving my BlogEngine.NET blog to Microsoft Azure","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.chwe.at\/2014\/03\/moving-my-blogengine.net-blog-to-microsoft-azure\/"},"genre":"posts","wordcount":766,"url":"https:\/\/www.chwe.at\/2014\/03\/moving-my-blogengine.net-blog-to-microsoft-azure\/","datePublished":"2014-03-29T00:00:00+01:00","dateModified":"2014-03-29T00:00:00+01:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Christian Weiss"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":""==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:""==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Christian Weiss">Christian Weiss</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Christian Weiss">Christian Weiss</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Moving my BlogEngine.NET blog to Microsoft Azure</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Christian Weiss</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2014-03-29>2014-03-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;766 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#get-a-running-blogenginenet-instance-within-minutes>Get a running BlogEngine.NET instance within minutes</a></li><li><a href=#deployment-with-git-and-the-app_data-folder>Deployment with Git and the App_Data folder</a></li><li><a href=#some-warnings-about-this>Some warnings about this</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>I thought, after 5 years since my last post it might be time to write a new one! But that&rsquo;s not so easy! When you login to the backend after such a long time, everything feels just wrong: The design is ugly, the blog engine is outdated, I&rsquo;m not sure if my hosting provider still is the best choice for me and I don&rsquo;t like my domain anymore! So, instead of just writing a post about something, I decided to change all of these things first and tell you about this process!</p><h3 id=get-a-running-blogenginenet-instance-within-minutes>Get a running BlogEngine.NET instance within minutes</h3><p>I was always interested in <strike>Windows Azure</strike>Â <a href=http://blogs.msdn.com/b/windowsazure/archive/2014/03/25/upcoming-name-change-for-windows-azure.aspx target=_blank rel="noopener noreffer">Microsoft Azure</a> but never really had the time to do something useful with it. Therefore I decided to take this opportunity and move my blog to it. I already had access to the Azure Management Portal, so I didn&rsquo;t have to go through some registration process. Since I also wanted to update my blog to the latest version of BlogEngine.NET I decided to start with a new installation and migrate my data afterwards (moving data from 6 posts is not so hard :-) ). Luckily, with Azure&rsquo;s Gallery, it&rsquo;s extremely easy to setup an instance of BlogEngine.Net. I just followed these instructions: <a href=http://blogs.msdn.com/b/webdev/archive/2012/10/12/blogengine-net-and-windows-azure-web-sites.aspx target=_blank rel="noopener noreffer">http://blogs.msdn.com/b/webdev/archive/2012/10/12/blogengine-net-and-windows-azure-web-sites.aspx</a></p><p>After that, I just had to go through a quick export/import process to move my data from my old blog to the new one. I started with a &ldquo;free&rdquo; web site but quickly scaled it up to a &ldquo;shared&rdquo; one because I wanted the site to be running on my custom domain.</p><h3 id=deployment-with-git-and-the-app_data-folder>Deployment with Git and the App_Data folder</h3><p>The default template of BlogEngine.NET 2.9 is quite nice, however I wanted to make some minor changes. Sounds like a good opportunity to test another great feature of Microsoft Azure: Git deployment.</p><p><a href=http://www.windowsazure.com/en-us/documentation/articles/web-sites-publish-source-control/ target=_blank rel="noopener noreffer">According to this tutorial</a>, I setup a Git repository for my web site within the Azure portal and cloned the repository to my notebook. Again, this was very straightforward and worked immediately. This also has the advantage that you now have a backup of your remote files on your home network.</p><p>But there&rsquo;s one important thing to take care of when you use Git deployment with BlogEngine.NET. BlogEngine.NET by default stores data in files within the App_Data folder. This is quite nice since you don&rsquo;t have to pay for a SQL Server database! However, if you use Git deployment it overwrites this folder, since it&rsquo;s now under source control. Therefore I added the &ldquo;App_Data&rdquo; folder to the .gitignore file. Unfortunately, the deployment still did overwrite changes. I guess this happened, because on the server, the App_Data folder was still a part of the git folder.</p><p>To overcome this, I tried a different way: First, I copied my local App_Data folder to some backup directory on my notebook. Then I removed the .gitignore file and really deleted the App_Data folder from my local and remote repository (so if you do this as well, please note that you will have a downtime!). After that, I manually copied the App_Data folder back to Azure with FTP. As a last step, I re-created the .gitignore file with the App_Data-exclusion and also moved the App_Data folder back on my machine.</p><p>As a result, the &ldquo;App_Data&rdquo; folder is no longer monitored by Git and will not be touched when Azure does a deployment. Of course, whenever you need a up-to-date version of your App_Data folder on your PC for development purposes, you have to manually download it from Azure.</p><h3 id=some-warnings-about-this>Some warnings about this</h3><ul><li>I&rsquo;m pretty sure this is not the best way to handle this. As far as I know, you shouldn&rsquo;t store user generated content on your server but instead use an Azure Storage account for it. Having user files on your server has several disadvantages: you can&rsquo;t scale out your servers, you don&rsquo;t have any replication or backups and so on.</li><li>I&rsquo;m not sure if the current deployment behavior, which does not touch untracked folders will stay that way forever. I wouldn&rsquo;t be surprised if they do a real sync someday because actually, the git repository should be 100% consistent with the web folder.</li></ul><p>This means, <em>I do not recommend this for anything else than completely uncritical things</em>! If you want to do this, make sure you regularly backup your App_Data folder by e.g. doing a scheduled FTP download every day.</p><p>For this blog, I&rsquo;m fine with those risks for now but if I happen to need a storage account anyway or if I will blog more in the future I will definitely move the data to a storage account.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2014-03-29</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.chwe.at/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/ data-title="Moving my BlogEngine.NET blog to Microsoft Azure" data-via=cwe1ss><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.chwe.at/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/ data-title="Moving my BlogEngine.NET blog to Microsoft Azure"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.chwe.at/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="Share on Evernote" data-sharer=evernote data-url=https://www.chwe.at/2014/03/moving-my-blogengine.net-blog-to-microsoft-azure/ data-title="Moving my BlogEngine.NET blog to Microsoft Azure"><i class="fab fa-evernote fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2009/03/asp.net-mvc-1.0-has-been-released/ class=prev rel=prev title="ASP.Net MVC 1.0 has been released!"><i class="fas fa-angle-left fa-fw"></i>ASP.Net MVC 1.0 has been released!</a>
<a href=/2014/04/introducing-the-asp.net-mvc-feature-folders-project-structure/ class=next rel=next title="Introducing the ASP.NET MVC âFeature Foldersâ Project Structure">Introducing the ASP.NET MVC âFeature Foldersâ Project Structure<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.104.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Christian Weiss</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.fathom=window.fathom||function(){(fathom.q=fathom.q||[]).push(arguments)},fathom("set","siteId","KUYCRMLC"),fathom("trackPageview")</script><script type=text/javascript src=https://cdn.usefathom.com/tracker.js async id=fathom-script></script></body></html>